<section class="page">
  <header id="overview" class="doc-card doc-card--intro section-anchor">
    <h2 class="docs-h1">Checkbox</h2>
    <p class="overview-lead">
      Checkboxes allow users to select one or more independent options within a set.
    </p>
  </header>

  <nav class="section-tabs">
    <a
      href="#overview"
      (click)="scrollToSection($event, 'overview')"
      [class.active]="currentSection === 'overview'"
    >
      Overview
    </a>
    <a
      href="#preview"
      (click)="scrollToSection($event, 'preview')"
      [class.active]="currentSection === 'preview'"
    >
      Preview
    </a>
    <a
      href="#usage"
      (click)="scrollToSection($event, 'usage')"
      [class.active]="currentSection === 'usage'"
    >
      Usage
    </a>
    <a
      href="#sizes"
      (click)="scrollToSection($event, 'sizes')"
      [class.active]="currentSection === 'sizes'"
    >
      Sizes
    </a>
    <a
      href="#states"
      (click)="scrollToSection($event, 'states')"
      [class.active]="currentSection === 'states'"
    >
      States
    </a>
    <a
      href="#grouping"
      (click)="scrollToSection($event, 'grouping')"
      [class.active]="currentSection === 'grouping'"
    >
      Grouping
    </a>
    <a
      href="#interaction"
      (click)="scrollToSection($event, 'interaction')"
      [class.active]="currentSection === 'interaction'"
    >
      Interaction mapping
    </a>
    <a
      href="#keyboard"
      (click)="scrollToSection($event, 'keyboard')"
      [class.active]="currentSection === 'keyboard'"
    >
      Keyboard
    </a>
    <a
      href="#accessibility"
      (click)="scrollToSection($event, 'accessibility')"
      [class.active]="currentSection === 'accessibility'"
    >
      Accessibility
    </a>
    <a
      href="#properties"
      (click)="scrollToSection($event, 'properties')"
      [class.active]="currentSection === 'properties'"
    >
      Properties
    </a>
  </nav>

  <section class="section doc-card overview-content">
    <p class="section-lead">
      Checkboxes are used for independent decisions. Each option can be selected or deselected
      without affecting the rest of the group.
    </p>
    <p class="section-lead">
      Use radio buttons when only one choice is permitted within a set, and selects when the list
      is long or needs to be compacted.
    </p>
  </section>

  <section class="section doc-card">
    <h3 id="preview" class="section-anchor docs-h2">Preview</h3>
    <p class="docs-body">
      Use the selector to change the checkbox size. The size applies to the control, label, and spacing.
    </p>
    <div class="demo-box demo-box--preview">
      <div class="demo-controls demo-controls--center">
        <p-selectButton
          [options]="sizeOptions"
          [(ngModel)]="selectedSize"
          optionLabel="label"
          optionValue="value"
          class="demo-select"
        ></p-selectButton>
      </div>
      <div class="demo-preview">
        <div class="demo-stack demo-stack--preview">
          <div class="demo-preview-group">
            <div class="demo-checkbox-group" role="group" aria-label="Optional scales">
              <div class="demo-checkbox-option" *ngFor="let option of previewOptions">
                <p-checkbox
                  [inputId]="'preview-' + option.value"
                  name="optional-scales"
                  [value]="option.value"
                  [(ngModel)]="previewValues"
                  [size]="selectedSize === 'default' ? undefined : selectedSize"
                ></p-checkbox>
                <label [for]="'preview-' + option.value">{{ option.label }}</label>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="section doc-card">
    <h3 id="usage" class="section-anchor docs-h2">Usage</h3>
    <p class="docs-body">
      Checkboxes represent independent decisions. Each option stands on its own and can be selected
      or deselected without affecting the others. This makes checkboxes ideal when users need
      flexibility and control over multiple choices.
    </p>
    <p class="docs-body">
      They work best when the selection state must remain visible and when actions or preferences
      can be combined freely.
    </p>
    <h4 class="docs-h3">When to use checkboxes</h4>
    <ul class="docs-list">
      <li>
        For independent choices. Each option represents a separate decision that does not exclude
        others.
      </li>
      <li>For multi-select scenarios. Users can select one, several, or no options at all.</li>
      <li>
        When explicit intent matters. Checkboxes are well suited for settings and configurations
        where each choice has a clear effect.
      </li>
      <li>
        When visibility supports understanding. Showing all options at once helps users scan and
        evaluate possibilities.
      </li>
      <li>
        When hierarchical relationships exist. Checkboxes can express parent–child structures
        without hiding options.
      </li>
      <li>
        When clarity is critical. Short, descriptive labels make each option easy to understand at
        a glance.
      </li>
    </ul>
    <h4 class="docs-h3">When to use something else</h4>
    <ul class="docs-list">
      <li>
        Use radio buttons for exclusive choices. If selecting one option should deselect others,
        radios communicate intent more clearly.
      </li>
      <li>Use a select for long lists. As the number of options grows, checkboxes become harder to scan and manage.</li>
      <li>Use a toggle for single on/off states. Binary settings are better expressed with a single control.</li>
      <li>
        Avoid mixing selection patterns. Combining radios and checkboxes in the same decision
        context creates confusion.
      </li>
      <li>
        Avoid implicit side effects. Selecting one checkbox should not change the state of others,
        except in clearly defined bulk or parent selections.
      </li>
    </ul>
    <h4 class="docs-h3">Notes on state and structure</h4>
    <ul class="docs-list">
      <li>The indeterminate state is a visual indicator of partial selection, not a direct interaction.</li>
      <li>Vertical alignment improves scanability and comparison across options.</li>
      <li>Validation feedback should be clear and associated with the relevant option when needed.</li>
    </ul>
  </section>

  <section class="section doc-card">
    <h3 id="sizes" class="section-anchor docs-h2">Sizes</h3>
    <p class="docs-body">
      Sizes align checkbox controls with surrounding typography. Default is the standard choice,
      small is for compact layouts, and large improves touch targets.
    </p>
    <div class="demo-box demo-box--states">
      <div class="demo-center">
        <div class="demo-stack demo-stack--single">
          <div class="demo-size">
            <p class="demo-meta">Small</p>
            <div class="demo-checkbox-group" role="group" aria-label="Small checkbox group">
              <div class="demo-checkbox-option" *ngFor="let option of previewOptions">
                <p-checkbox
                  [inputId]="'size-sm-' + option.value"
                  name="size-small"
                  [value]="option.value"
                  [(ngModel)]="sizeSmallValues"
                  size="small"
                ></p-checkbox>
                <label [for]="'size-sm-' + option.value">{{ option.label }}</label>
              </div>
            </div>
          </div>
          <div class="demo-size">
            <p class="demo-meta">Default</p>
            <div class="demo-checkbox-group" role="group" aria-label="Default checkbox group">
              <div class="demo-checkbox-option" *ngFor="let option of previewOptions">
                <p-checkbox
                  [inputId]="'size-md-' + option.value"
                  name="size-default"
                  [value]="option.value"
                  [(ngModel)]="sizeDefaultValues"
                ></p-checkbox>
                <label [for]="'size-md-' + option.value">{{ option.label }}</label>
              </div>
            </div>
          </div>
          <div class="demo-size">
            <p class="demo-meta">Large</p>
            <div class="demo-checkbox-group" role="group" aria-label="Large checkbox group">
              <div class="demo-checkbox-option" *ngFor="let option of previewOptions">
                <p-checkbox
                  [inputId]="'size-lg-' + option.value"
                  name="size-large"
                  [value]="option.value"
                  [(ngModel)]="sizeLargeValues"
                  size="large"
                ></p-checkbox>
                <label [for]="'size-lg-' + option.value">{{ option.label }}</label>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <h4 class="docs-h3">Size mapping</h4>
    <table class="mapping-table">
      <thead>
        <tr>
          <th>Size</th>
          <th>Control role</th>
          <th>Label typography</th>
          <th>Gap</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Small</td>
          <td>Control · size.sm</td>
          <td>Label · control-sm · Regular</td>
          <td>Gap · spacing.control.x-sm</td>
        </tr>
        <tr>
          <td>Default</td>
          <td>Control · size.md</td>
          <td>Label · control-md · Regular</td>
          <td>Gap · spacing.control.x-md</td>
        </tr>
        <tr>
          <td>Large</td>
          <td>Control · size.lg</td>
          <td>Label · control-lg · Regular</td>
          <td>Gap · spacing.control.x-md</td>
        </tr>
      </tbody>
    </table>
  </section>

  <section class="section doc-card">
    <h3 id="states" class="section-anchor docs-h2">States</h3>
    <p class="docs-body">
      Hover and focus appear on interaction. Checked, indeterminate, and disabled are shown below.
    </p>
    <div class="demo-box">
      <div class="demo-center">
        <div class="demo-checkbox-group demo-checkbox-group--inline demo-checkbox-group--static" role="group" aria-label="Checkbox states">
          <div class="demo-checkbox-option">
            <p-checkbox
              inputId="state-default"
              [binary]="true"
              [ngModel]="false"
            ></p-checkbox>
            <label for="state-default">Default</label>
          </div>
          <div class="demo-checkbox-option">
            <p-checkbox
              inputId="state-checked"
              [binary]="true"
              [ngModel]="true"
            ></p-checkbox>
            <label for="state-checked">Checked</label>
          </div>
          <div class="demo-checkbox-option">
            <p-checkbox
              inputId="state-indeterminate"
              [binary]="true"
              [ngModel]="false"
              [indeterminate]="true"
            ></p-checkbox>
            <label for="state-indeterminate">Indeterminate</label>
          </div>
          <div class="demo-checkbox-option">
            <p-checkbox
              inputId="state-disabled"
              [binary]="true"
              [ngModel]="true"
              [disabled]="true"
            ></p-checkbox>
            <label for="state-disabled">Disabled</label>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="section doc-card">
    <h3 id="grouping" class="section-anchor docs-h2">Grouping</h3>
    <p class="docs-body">
      Checkboxes can be used on their own or grouped under a shared label. Grouping improves
      readability but does not enforce mutual exclusion. A single “All” option can be used to
      toggle the entire set; it becomes indeterminate when only some items are selected.
    </p>
    <div class="demo-box">
      <div class="demo-center">
        <div class="demo-checkbox-group" role="group" aria-label="Project modules">
          <div class="demo-checkbox-option">
            <p-checkbox
              inputId="group-all"
              [binary]="true"
              [(ngModel)]="allSelected"
              [indeterminate]="allIndeterminate"
              (onChange)="onGroupAllChange()"
            ></p-checkbox>
            <label for="group-all">All scales</label>
          </div>
          <div class="demo-checkbox-option" *ngFor="let option of groupingOptions">
            <p-checkbox
              [inputId]="'group-' + option.value"
              [binary]="true"
              [(ngModel)]="groupingSelections[option.value]"
              (onChange)="onGroupItemChange()"
            ></p-checkbox>
            <label [for]="'group-' + option.value">{{ option.label }}</label>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="section doc-card">
    <h3 id="interaction" class="section-anchor docs-h2">Interaction mapping</h3>
    <p class="docs-body">
      This section maps semantic design roles to checkbox states without exposing raw values.
    </p>
    <table class="mapping-table">
      <thead>
        <tr>
          <th>State</th>
          <th>Control role</th>
          <th>Label role</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Default</td>
          <td>Control · Border Subtle</td>
          <td>Label · Foreground Default</td>
        </tr>
        <tr>
          <td>Hover</td>
          <td>Control · Border Muted</td>
          <td>Label · Foreground Default</td>
        </tr>
        <tr>
          <td>Focus</td>
          <td>Control · Border Focus</td>
          <td>Label · Foreground Default</td>
        </tr>
        <tr>
          <td>Checked</td>
          <td>Control · Accent Moderate</td>
          <td>Label · Foreground Default</td>
        </tr>
        <tr>
          <td>Indeterminate</td>
          <td>Control · Accent Moderate</td>
          <td>Label · Foreground Default</td>
        </tr>
        <tr>
          <td>Disabled</td>
          <td>Control · Disabled</td>
          <td>Label · Foreground Disabled</td>
        </tr>
      </tbody>
    </table>
  </section>

  <section class="section doc-card">
    <h3 id="keyboard" class="section-anchor docs-h2">Keyboard support</h3>
    <ul class="docs-list">
      <li>Tab moves focus between checkboxes.</li>
      <li>Space toggles the focused checkbox on or off.</li>
      <li>Indeterminate state is managed by system logic, not by direct keyboard input.</li>
    </ul>
  </section>

  <section class="section doc-card">
    <h3 id="accessibility" class="section-anchor docs-h2">Accessibility</h3>
    <p class="docs-body">
      Provide visible labels for every checkbox and group related options under a clear heading.
      Native semantics and ARIA are handled by the framework.
    </p>
  </section>

  <section class="section doc-card">
    <h3 id="properties" class="section-anchor docs-h2">Properties</h3>
    <table class="mapping-table">
      <thead>
        <tr>
          <th>Property</th>
          <th>Values</th>
          <th>Required</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>label</td>
          <td>string</td>
          <td>No</td>
        </tr>
        <tr>
          <td>value</td>
          <td>string | number</td>
          <td>No</td>
        </tr>
        <tr>
          <td>checked</td>
          <td>boolean</td>
          <td>No</td>
        </tr>
        <tr>
          <td>indeterminate</td>
          <td>boolean</td>
          <td>No</td>
        </tr>
        <tr>
          <td>disabled</td>
          <td>boolean</td>
          <td>No</td>
        </tr>
        <tr>
          <td>size</td>
          <td>small | large</td>
          <td>No</td>
        </tr>
      </tbody>
    </table>
  </section>
</section>
