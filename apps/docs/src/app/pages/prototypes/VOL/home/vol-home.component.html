<section class="vol-home">
  <div class="vol-home__container">
    <header class="vol-home__header">
      <img
        src="assets/vol/logo-vol.svg"
        alt="VOL"
        class="vol-home__logo"
      />
      <div class="vol-home__header-actions">
        <gp-button
          variant="text"
          [iconOnly]="true"
          ariaLabel="Ajuda"
          size="large"
        >
          <gp-icon name="help" [decorative]="true"></gp-icon>
        </gp-button>
        <gp-button
          variant="text"
          [iconOnly]="true"
          ariaLabel="Notificações"
          size="large"
        >
          <gp-icon name="bell" [decorative]="true"></gp-icon>
        </gp-button>
        <div
          class="vol-home__user"
          role="button"
          tabindex="0"
          (click)="goToProfile()"
          (keydown.enter)="goToProfile()"
          (keydown.space)="goToProfile()"
        >
          <div class="vol-home__user-meta">
            <div class="vol-home__user-name">Mariana Lopes</div>
            <div class="vol-home__user-role">Profissional Responsável</div>
          </div>
          <gp-icon name="chevron-down" [decorative]="true"></gp-icon>
        </div>
      </div>
    </header>

    <div class="vol-home__layout">
      <aside class="vol-home__sidebar">
        <nav class="vol-home__nav">
          <div class="vol-home__nav-group">
            <span class="vol-home__nav-label">Pessoas e Acesso</span>
            <a href="#">Usuários</a>
            <a href="#">Licenças</a>
          </div>
          <div class="vol-home__nav-group">
            <span class="vol-home__nav-label">Organizações</span>
            <a href="#">Empresas</a>
            <a href="#">Cargos</a>
            <a href="#">Avaliações</a>
            <a href="#">Avaliados</a>
          </div>
          <div class="vol-home__nav-group">
            <span class="vol-home__nav-label">Conteúdo Avaliativo</span>
            <a href="#">Baterias</a>
            <a href="#">Guias e Modelos</a>
          </div>
          <div class="vol-home__nav-group">
            <span class="vol-home__nav-label">Resultados e Dados</span>
            <a href="#">Importar respostas</a>
            <a href="#">Exportar resultados</a>
          </div>
        </nav>
      </aside>

      <main class="vol-home__content">
        <div class="vol-home__content-header">
          <h1>Visão geral da plataforma</h1>
          <div class="vol-home__content-actions">
            <gp-button
              label="Cadastrar em lote"
              variant="secondary"
              size="small"
              (clicked)="openBatchRegister()"
            ></gp-button>
            <gp-button
              label="Nova avaliação"
              variant="primary"
              size="small"
              (clicked)="openNewEvaluation()"
            ></gp-button>
          </div>
        </div>
        <div class="vol-home__modules">
          <section class="vol-home__module">
            <div class="vol-home__module-header">
              <h2>Aplicar</h2>
            </div>
            <div class="vol-home__module-body">
              <div class="vol-home__search">
                <gp-input label="Por instrumento"></gp-input>
                <gp-input label="Por avaliado"></gp-input>
              </div>
              <div class="vol-home__status-list">
                <div class="vol-home__status-item">
                  <span>Aplicações pendentes</span>
                  <gp-button
                    variant="text"
                    [iconOnly]="true"
                    ariaLabel="Abrir aplicações pendentes"
                    size="small"
                    icon="arrow-right"
                  ></gp-button>
                </div>
                <div class="vol-home__status-item">
                  <span>Aplicações concluídas</span>
                  <gp-button
                    variant="text"
                    [iconOnly]="true"
                    ariaLabel="Abrir aplicações concluídas"
                    size="small"
                    icon="arrow-right"
                  ></gp-button>
                </div>
              </div>
            </div>
          </section>
          <section class="vol-home__module">
            <div class="vol-home__module-header">
              <h2>Corrigir</h2>
            </div>
            <div class="vol-home__module-body">
              <div class="vol-home__search">
                <gp-input label="Por instrumento"></gp-input>
                <gp-input label="Por avaliado"></gp-input>
              </div>
              <div class="vol-home__status-list">
                <div class="vol-home__status-item">
                  <span>Correções pendentes</span>
                  <gp-button
                    variant="text"
                    [iconOnly]="true"
                    ariaLabel="Abrir correções pendentes"
                    size="small"
                    icon="arrow-right"
                  ></gp-button>
                </div>
                <div class="vol-home__status-item">
                  <span>Correções concluídas</span>
                  <gp-button
                    variant="text"
                    [iconOnly]="true"
                    ariaLabel="Abrir correções concluídas"
                    size="small"
                    icon="arrow-right"
                  ></gp-button>
                </div>
              </div>
            </div>
          </section>
        </div>

        <section class="vol-home__banner">
          <div class="vol-home__banner-media"></div>
        </section>
      </main>
    </div>
  </div>

  <gp-modal
    [open]="isNewEvaluationOpen"
    type="confirmation"
    title="Nova avaliação"
    primaryLabel="Salvar"
    secondaryLabel="Cancelar"
    width="xl"
    (primary)="confirmNewEvaluation()"
    (secondary)="closeNewEvaluation()"
    (closed)="closeNewEvaluation()"
  >
    <ng-template gpModalBody>
      <div class="vol-home__modal">
        <div class="modal-form">
          <div class="modal-form__section modal-form__section--choice">
            <div class="vol-home__modal-options" role="radiogroup" aria-label="Tipo de avaliação">
              <label class="vol-home__modal-option" [class.is-selected]="newEvaluationType === 'apply'">
                <p-radioButton
                  inputId="new-eval-apply"
                  name="newEvaluationType"
                  value="apply"
                  [(ngModel)]="newEvaluationType"
                ></p-radioButton>
                <div class="vol-home__modal-option-text">
                  <span>Aplicar avaliação</span>
                  <small>Incluir um novo avaliado para iniciar a aplicação.</small>
                </div>
              </label>
              <label class="vol-home__modal-option" [class.is-selected]="newEvaluationType === 'correct'">
                <p-radioButton
                  inputId="new-eval-correct"
                  name="newEvaluationType"
                  value="correct"
                  [(ngModel)]="newEvaluationType"
                ></p-radioButton>
                <div class="vol-home__modal-option-text">
                  <span>Corrigir / Novo avaliado</span>
                  <small>Registrar correções com os dados do avaliado.</small>
                </div>
              </label>
            </div>
          </div>

          <div class="modal-form__section modal-form__section--fields">
            <div class="modal-form__row" *ngIf="newEvaluationType === 'apply'">
              <div class="vol-home__modal-fields vol-home__modal-fields--apply">
                <gp-input label="Nome" size="large"></gp-input>
                <gp-input label="CPF" size="large" placeholder="000.000.000-00"></gp-input>
                <gp-input label="E-mail" size="large"></gp-input>
              </div>
            </div>

            <div class="modal-form__row" *ngIf="newEvaluationType === 'correct'">
              <div class="vol-home__modal-fields vol-home__modal-fields--correct">
                <gp-input label="Nome" size="large"></gp-input>
                <gp-input label="CPF" size="large" placeholder="000.000.000-00"></gp-input>
              </div>
            </div>
          </div>
        </div>
      </div>
    </ng-template>
  </gp-modal>

  <gp-modal
    [open]="isBatchRegisterOpen"
    type="confirmation"
    title="Novo avaliado"
    primaryLabel="Salvar"
    secondaryLabel="Cancelar"
    width="xl"
    (primary)="confirmBatchRegister()"
    (secondary)="closeBatchRegister()"
    (closed)="closeBatchRegister()"
  >
    <ng-template gpModalBody>
      <div class="vol-home__modal vol-home__modal--batch">
        <div class="modal-form">
          <div class="modal-form__section modal-form__section--choice">
            <div class="vol-home__modal-options vol-home__modal-options--batch" role="radiogroup" aria-label="Tipo de cadastro">
              <label class="vol-home__modal-option" [class.is-selected]="batchRegisterType === 'simple'">
                <p-radioButton
                  inputId="simple-register"
                  name="batchRegisterType"
                  value="simple"
                  [(ngModel)]="batchRegisterType"
                ></p-radioButton>
                <div class="vol-home__modal-option-text">
                  <span>Cadastro simples</span>
                  <small>Cadastre manualmente um novo avaliado.</small>
                </div>
              </label>
              <label class="vol-home__modal-option" [class.is-selected]="batchRegisterType === 'batch'">
                <p-radioButton
                  inputId="batch-register"
                  name="batchRegisterType"
                  value="batch"
                  [(ngModel)]="batchRegisterType"
                ></p-radioButton>
                <div class="vol-home__modal-option-text">
                  <span>Cadastro em lote</span>
                  <small>Importe uma lista de avaliados em um único arquivo.</small>
                </div>
              </label>
            </div>
          </div>

          <div class="modal-form__section modal-form__section--fields">
            <div class="modal-form__row modal-form__row--two-cols" *ngIf="batchRegisterType === 'batch'">
              <div class="vol-home__file">
                <label class="vol-home__file-label">Arquivo</label>
                <div class="vol-home__file-row">
                  <gp-button
                    variant="tertiary"
                    size="small"
                    label="Selecionar arquivo"
                    (clicked)="batchFileInput.click()"
                  ></gp-button>
                  <span class="vol-home__file-helper">Nenhum arquivo selecionado</span>
                  <input
                    #batchFileInput
                    id="batch-file"
                    type="file"
                    class="vol-home__file-input"
                    aria-hidden="true"
                    tabindex="-1"
                  />
                </div>
              </div>
              <div class="vol-home__field">
                <label class="vol-home__field-label" for="batch-department">Departamento</label>
                <p-select
                  inputId="batch-department"
                  styleClass="vol-select"
                  [options]="departmentOptions"
                  optionLabel="label"
                  [checkmark]="true"
                  appendTo="body"
                  [(ngModel)]="selectedDepartment"
                ></p-select>
              </div>
            </div>

            <div class="modal-form__row" *ngIf="batchRegisterType === 'simple'">
              <div class="vol-home__modal-fields vol-home__modal-fields--simple">
                <gp-input label="Nome" size="large"></gp-input>
                <gp-input label="CPF" size="large" placeholder="000.000.000-00"></gp-input>
                <gp-input label="E-mail" size="large"></gp-input>
              </div>
            </div>
          </div>
        </div>
      </div>
    </ng-template>
  </gp-modal>

  <footer class="vol-home__footer">
    <div class="vol-home__footer-inner">
      <span>VOL · Vetor Online</span>
      <div class="vol-home__footer-links">
        <a href="#">TCLE da VOL</a>
        <a href="#">Política de privacidade</a>
      </div>
      <span>© 2026 Giunti Psychometrics</span>
    </div>
  </footer>
</section>
