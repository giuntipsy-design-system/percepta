@use '../tokens' as tokens;

:root {
  /* Form field — Percepta interaction mapping */
  --p-form-field-background: #{tokens.$color-background-default};
  --p-form-field-border-color: #{tokens.$color-border-subtle};
  --p-form-field-color: #{tokens.$color-foreground-subtle};
  --p-form-field-placeholder-color: #{tokens.$color-foreground-subtle};

  --p-form-field-hover-border-color: #{tokens.$color-border-muted} !important;

  --p-form-field-focus-border-color: #{tokens.$color-border-focus} !important;
  --p-form-field-focus-ring-shadow: none !important;

  --p-form-field-filled-background: #{tokens.$color-background-error};
  --p-form-field-invalid-border-color: #{tokens.$color-border-error};
  --p-form-field-invalid-placeholder-color: #{tokens.$color-foreground-subtle};

  --p-form-field-disabled-background: #{tokens.$color-background-disabled};
  --p-form-field-disabled-color: #{tokens.$color-foreground-disabled};

  /* InputText */
  --p-inputtext-background: #{tokens.$color-background-default};
  --p-inputtext-border-color: #{tokens.$color-border-subtle};
  --p-inputtext-color: #{tokens.$color-foreground-subtle};
  --p-inputtext-placeholder-color: #{tokens.$color-foreground-subtle};

  --p-inputtext-hover-border-color: #{tokens.$color-border-muted} !important;
  --p-inputtext-focus-border-color: #{tokens.$color-border-subtle} !important;
  --p-inputtext-invalid-border-color: #{tokens.$color-border-error};

  --p-inputtext-disabled-background: #{tokens.$color-background-disabled};
  --p-inputtext-disabled-color: #{tokens.$color-foreground-disabled};

  --p-inputtext-focus-ring-color: #{tokens.$color-border-focus} !important;
  --p-inputtext-focus-ring-width: 1px !important;
  --p-inputtext-focus-ring-style: solid !important;
  --p-inputtext-focus-ring-offset: 0 !important;
  --p-inputtext-focus-ring-shadow: 0 0 0 2px rgba(
    #{red(tokens.$color-border-focus)},
    #{green(tokens.$color-border-focus)},
    #{blue(tokens.$color-border-focus)},
    0.2
  ) !important;

  /* InputText — Sizes (Percepta) */
  --p-inputtext-padding-x: #{tokens.$spacing-control-x-md};
  --p-inputtext-padding-y: #{tokens.$spacing-control-y-md};
  --p-inputtext-font-size: #{tokens.$font-size-md};
  --p-inputtext-border-radius: #{tokens.$radius-sm};

  --p-inputtext-sm-padding-x: #{tokens.$spacing-control-x-sm};
  --p-inputtext-sm-padding-y: #{tokens.$spacing-control-y-sm};
  --p-inputtext-sm-font-size: #{tokens.$font-size-sm};

  --p-inputtext-lg-padding-x: #{tokens.$spacing-control-x-lg};
  --p-inputtext-lg-padding-y: #{tokens.$spacing-control-y-md};
  --p-inputtext-lg-font-size: #{tokens.$font-size-lg};

  /* Button — Primary */
  --p-button-primary-background: #{tokens.$color-accent-moderate} !important;
  --p-button-primary-color: #{tokens.$color-accent-on-accent} !important;
  --p-button-primary-border-color: transparent !important;

  --p-button-primary-hover-background: #{tokens.$color-accent-vibrant} !important;
  --p-button-primary-hover-color: #{tokens.$color-accent-on-accent} !important;
  --p-button-primary-hover-border-color: transparent !important;

  --p-button-primary-active-background: #{tokens.$color-accent-bold} !important;
  --p-button-primary-active-color: #{tokens.$color-accent-on-accent} !important;
  --p-button-primary-active-border-color: transparent !important;

  --p-button-primary-focus-border-color: #{tokens.$color-border-focus} !important;

  --p-button-primary-disabled-background: #{tokens.$color-background-disabled} !important;
  --p-button-primary-disabled-color: #{tokens.$color-foreground-disabled} !important;
  --p-button-primary-disabled-border-color: #{tokens.$color-border-disabled} !important;

  /* Button — Secondary */
  --p-button-secondary-background: #{tokens.$color-accent-subtle} !important;
  --p-button-secondary-color: #{tokens.$color-accent-moderate} !important;
  --p-button-secondary-border-color: transparent !important;

  --p-button-secondary-hover-background: #{tokens.$color-accent-tinted} !important;
  --p-button-secondary-hover-color: #{tokens.$color-accent-vibrant} !important;
  --p-button-secondary-hover-border-color: transparent !important;

  --p-button-secondary-active-background: #{tokens.$color-accent-muted} !important;
  --p-button-secondary-active-color: #{tokens.$color-accent-bold} !important;
  --p-button-secondary-active-border-color: transparent !important;

  --p-button-secondary-focus-border-color: #{tokens.$color-border-focus} !important;

  /* Button — Tertiary */
  --p-button-tertiary-background: transparent !important;
  --p-button-tertiary-color: #{tokens.$color-accent-vibrant} !important;
  --p-button-tertiary-border-color: #{tokens.$color-accent-moderate} !important;

  --p-button-tertiary-hover-background: #{tokens.$color-accent-subtle} !important;
  --p-button-tertiary-hover-color: #{tokens.$color-accent-vibrant} !important;
  --p-button-tertiary-hover-border-color: #{tokens.$color-accent-vibrant} !important;

  --p-button-tertiary-active-background: #{tokens.$color-accent-tinted} !important;
  --p-button-tertiary-active-color: #{tokens.$color-accent-bold} !important;
  --p-button-tertiary-active-border-color: #{tokens.$color-accent-bold} !important;

  --p-button-tertiary-focus-border-color: #{tokens.$color-border-focus} !important;

  /* Button — Tertiary (PrimeNG outlined secondary runtime) */
  --p-button-outlined-secondary-background: transparent !important;
  --p-button-outlined-secondary-color: #{tokens.$color-accent-vibrant} !important;
  --p-button-outlined-secondary-border-color: #{tokens.$color-accent-moderate} !important;

  --p-button-outlined-secondary-hover-background: #{tokens.$color-accent-subtle} !important;
  --p-button-outlined-secondary-hover-color: #{tokens.$color-accent-vibrant} !important;
  --p-button-outlined-secondary-hover-border-color: #{tokens.$color-accent-vibrant} !important;

  --p-button-outlined-secondary-active-background: #{tokens.$color-accent-tinted} !important;
  --p-button-outlined-secondary-active-color: #{tokens.$color-accent-bold} !important;
  --p-button-outlined-secondary-active-border-color: #{tokens.$color-accent-bold} !important;

  --p-button-outlined-secondary-focus-border-color: #{tokens.$color-border-focus} !important;

  /* Button — Text */
  --p-button-text-background: transparent !important;
  --p-button-text-color: #{tokens.$color-accent-moderate} !important;
  --p-button-text-border-color: transparent !important;

  --p-button-text-hover-background: #{tokens.$color-accent-subtle} !important;
  --p-button-text-hover-color: #{tokens.$color-accent-vibrant} !important;
  --p-button-text-hover-border-color: transparent !important;

  --p-button-text-active-background: transparent !important;
  --p-button-text-active-color: #{tokens.$color-accent-bold} !important;
  --p-button-text-active-border-color: transparent !important;

  --p-button-text-focus-border-color: #{tokens.$color-border-focus} !important;

  /* Button — Text (PrimeNG text secondary runtime) */
  --p-button-text-secondary-background: transparent !important;
  --p-button-text-secondary-color: #{tokens.$color-accent-moderate} !important;
  --p-button-text-secondary-border-color: transparent !important;

  --p-button-text-secondary-hover-background: #{tokens.$color-accent-subtle} !important;
  --p-button-text-secondary-hover-color: #{tokens.$color-accent-vibrant} !important;
  --p-button-text-secondary-hover-border-color: transparent !important;

  --p-button-text-secondary-active-background: transparent !important;
  --p-button-text-secondary-active-color: #{tokens.$color-accent-bold} !important;
  --p-button-text-secondary-active-border-color: transparent !important;

  --p-button-text-secondary-focus-border-color: #{tokens.$color-border-focus} !important;

  /* Button — Danger */
  --p-button-danger-background: #{tokens.$color-background-danger-primary} !important;
  --p-button-danger-color: #{tokens.$color-foreground-contrast} !important;
  --p-button-danger-border-color: transparent !important;

  --p-button-danger-hover-background: #{tokens.$color-background-danger-secondary} !important;
  --p-button-danger-hover-color: #{tokens.$color-foreground-contrast} !important;
  --p-button-danger-hover-border-color: transparent !important;

  --p-button-danger-active-background: #{tokens.$color-background-danger-tertiary} !important;
  --p-button-danger-active-color: #{tokens.$color-foreground-contrast} !important;
  --p-button-danger-active-border-color: transparent !important;

  --p-button-danger-focus-border-color: #{tokens.$color-border-focus} !important;

  --p-button-danger-disabled-background: #{tokens.$color-background-disabled} !important;
  --p-button-danger-disabled-color: #{tokens.$color-foreground-disabled} !important;
  --p-button-danger-disabled-border-color: #{tokens.$color-border-disabled} !important;

  /* ToggleButton / SelectButton — checked state */
  --p-togglebutton-checked-background: #{tokens.$color-background-subtle} !important;
  --p-togglebutton-checked-border-color: #{tokens.$color-border-subtle} !important;
  --p-togglebutton-checked-color: #{tokens.$color-foreground-default} !important;

  /* Button — Sizes (Percepta) */
  --p-button-padding-x: #{tokens.$spacing-control-x-md};
  --p-button-padding-y: #{tokens.$spacing-control-y-md};
  --p-button-font-size: #{tokens.$font-size-md};
  --p-button-gap: #{tokens.$spacing-layout-xs};
  --p-button-border-radius: #{tokens.$radius-sm};

  --p-button-sm-padding-x: #{tokens.$spacing-control-x-sm};
  --p-button-sm-padding-y: #{tokens.$spacing-control-y-sm};
  --p-button-sm-font-size: #{tokens.$font-size-sm};

  --p-button-lg-padding-x: #{tokens.$spacing-control-x-lg};
  --p-button-lg-padding-y: #{tokens.$spacing-control-y-md};
  --p-button-lg-font-size: #{tokens.$font-size-lg};
}

/* PrimeNG input icon layout (Lara preset) */
.p-input-icon-left {
  position: relative;
  width: 100%;
}

.p-input-icon-left > .pi {
  position: absolute;
  left: 0.75rem;
  top: 50%;
  transform: translateY(-50%);
}

.p-input-icon-left > input {
  padding-left: 2.25rem;
}
