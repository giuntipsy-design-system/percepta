@use '../../../../dist/sass/tokens' as tokens;
@use '../../../../dist/sass/typography.mixins' as typography;

:host {
  display: inline-flex;
}

.gp-select-field {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: #{tokens.$spacing-layout-xs};
  width: 280px;
}

.gp-select-label {
  @include typography.typography-label-md;
  color: tokens.$color-foreground-default;
  margin: 0;
  align-self: flex-start;
  text-align: left;
}

.gp-select-label--sm {
  @include typography.typography-label-sm;
}

.gp-select-label--lg {
  @include typography.typography-label-lg;
}

.gp-select-helper {
  @include typography.typography-body-sm;
  color: tokens.$color-foreground-subtle;
  margin: 0;
  align-self: flex-start;
  text-align: left;
}

.gp-select-error {
  @include typography.typography-body-sm;
  color: tokens.$color-foreground-error;
  margin: 0;
  align-self: flex-start;
  text-align: left;
}

.gp-select-group {
  @include typography.typography-label-control-md;
  display: inline-flex;
  align-items: center;
  gap: #{tokens.$spacing-control-x-md};
  padding: #{tokens.$spacing-control-y-sm} #{tokens.$spacing-control-x-md};
  border-radius: #{tokens.$radius-sm};
  border: 1px solid tokens.$color-border-subtle;
  background: tokens.$color-background-default;
  min-width: 100%;
  transition: border-color 160ms ease, box-shadow 160ms ease, background 160ms ease;
  cursor: pointer;
}

.gp-select-group .gp-icon {
  margin-left: auto;
  flex-shrink: 0;
}

.gp-select-group--sm {
  @include typography.typography-label-control-sm;
  padding: #{tokens.$spacing-control-y-sm} #{tokens.$spacing-control-x-sm};
}

.gp-select-group--lg {
  @include typography.typography-label-control-lg;
  padding: #{tokens.$spacing-control-y-md} #{tokens.$spacing-control-x-lg};
}

.gp-select-group.is-hover {
  background: tokens.$color-background-subtle;
  border-color: tokens.$color-border-muted;
}

.gp-select-group.is-focus,
.gp-select-group.is-active {
  border-color: tokens.$color-border-focus;
  box-shadow: 0 0 0 3px tokens.$color-border-focus;
}

.gp-select-group.is-error {
  border-color: tokens.$color-border-error;
  background: tokens.$color-background-error;
  box-shadow: 0 0 0 3px rgba(tokens.$color-border-error, 0.25);
}

.gp-select-group.is-error .gp-select-control,
.gp-select-group.is-error .gp-select-control::placeholder {
  color: tokens.$color-foreground-error;
}

.gp-select-group:focus-within {
  border-color: tokens.$color-border-focus;
  box-shadow: 0 0 0 3px tokens.$color-border-focus;
}

.gp-select-group.is-disabled {
  background: tokens.$color-background-disabled;
  border-color: tokens.$color-border-disabled;
  cursor: not-allowed;
}

.gp-select-group.is-disabled .gp-select-control {
  color: tokens.$color-foreground-disabled;
}

.gp-select-group.is-disabled .gp-icon {
  color: tokens.$color-foreground-disabled;
}

.gp-select-control {
  @include typography.typography-label-control-md;
  color: tokens.$color-foreground-subtle;
  width: 100%;
  background: transparent;
  border: none;
  padding: 0;
  outline: none;
  box-shadow: none;
  min-width: 0;
  flex: 1 1 auto;
}

.gp-select-control.has-value {
  color: tokens.$color-foreground-default;
}

.gp-select-native {
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  background-image: none;
  cursor: pointer;
}

.gp-select-control:disabled {
  color: tokens.$color-foreground-disabled;
  cursor: not-allowed;
}

.gp-select-group .gp-icon {
  color: tokens.$color-foreground-subtle;
  pointer-events: none;
}

:host ::ng-deep .gp-select-control.p-select {
  width: 100%;
  border: none;
  background: transparent;
  box-shadow: none;
  cursor: pointer;
}

:host ::ng-deep .gp-select-control.p-select * {
  cursor: pointer;
}

:host ::ng-deep .gp-select-control.p-select *:focus {
  outline: none !important;
  box-shadow: none !important;
}

:host ::ng-deep .gp-select-control.p-select .p-select-dropdown,
:host ::ng-deep .gp-select-control.p-select .p-select-dropdown-icon,
:host ::ng-deep .gp-select-control.p-select svg,
:host ::ng-deep .gp-select-control.p-select .gp-select-hidden-icon {
  display: none;
}

:host ::ng-deep .gp-select-shell {
  flex: 1 1 auto;
  width: 100%;
  min-width: 0;
  display: block;
  position: relative;
}

:host ::ng-deep .gp-select-control.p-select .p-select-label {
  @include typography.typography-label-control-md;
  padding: 0;
  color: tokens.$color-foreground-subtle;
}

:host ::ng-deep .gp-select-group--sm .gp-select-control.p-select .p-select-label {
  @include typography.typography-label-control-sm;
}

:host ::ng-deep .gp-select-group--lg .gp-select-control.p-select .p-select-label {
  @include typography.typography-label-control-lg;
}

:host ::ng-deep .gp-select-control.p-select .p-select-label:not(.p-placeholder) {
  color: tokens.$color-foreground-default;
}

:host ::ng-deep .gp-select-control.p-select .p-select-label {
  outline: none !important;
  box-shadow: none !important;
}

:host ::ng-deep .gp-select-control.p-select .p-select-label:focus,
:host ::ng-deep .gp-select-control.p-select .p-select-label:focus-visible {
  outline: none !important;
  box-shadow: none !important;
}

:host ::ng-deep .gp-select-group.is-error .gp-select-control.p-select .p-select-label {
  color: tokens.$color-foreground-error;
}

:host ::ng-deep .gp-select-control.p-select .p-select-dropdown,
:host ::ng-deep .gp-select-control.p-select .p-select-dropdown-icon {
  display: none;
}

:host ::ng-deep .gp-select-control.p-select.p-disabled .p-select-label {
  color: tokens.$color-foreground-disabled;
}

:host ::ng-deep .gp-select-control.p-select.p-disabled {
  cursor: not-allowed;
}

:host ::ng-deep .gp-select-control.p-select.p-disabled * {
  cursor: not-allowed;
}

:host ::ng-deep .gp-select-panel {
  background: tokens.$color-background-default;
  border: 1px solid tokens.$color-border-subtle;
  border-radius: #{tokens.$radius-sm};
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
  padding: #{tokens.$spacing-control-y-sm};
  margin-top: #{tokens.$spacing-layout-xs};
  width: 100%;
}

:host ::ng-deep .gp-select-panel .p-select-list {
  margin: 0;
  padding: 0;
  list-style: none;
}

:host ::ng-deep .gp-select-panel ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

:host ::ng-deep .gp-select-panel li {
  list-style: none;
}

:host ::ng-deep .gp-select-panel .p-select-item,
:host ::ng-deep .gp-select-panel .p-select-option {
  @include typography.typography-label-control-md;
  padding: #{tokens.$spacing-control-y-sm} #{tokens.$spacing-control-x-md};
  border-radius: #{tokens.$radius-sm};
  color: tokens.$color-foreground-default;
}

:host ::ng-deep .gp-select-panel .p-select-item.p-highlight,
:host ::ng-deep .gp-select-panel .p-select-item:hover,
:host ::ng-deep .gp-select-panel .p-select-option.p-highlight,
:host ::ng-deep .gp-select-panel .p-select-option:hover {
  background: tokens.$color-background-subtle;
}

:host ::ng-deep .gp-select-panel .p-select-item.p-disabled,
:host ::ng-deep .gp-select-panel .p-select-option.p-disabled {
  color: tokens.$color-foreground-disabled;
}
